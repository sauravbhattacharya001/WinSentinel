<Page
    x:Class="WinSentinel.App.Views.AuditDetailPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinSentinel.App.Views"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Padding="32,24,32,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel>
                <TextBlock x:Name="ModuleTitle" Text="Audit Module" 
                          Style="{StaticResource TitleTextBlockStyle}" />
                <TextBlock x:Name="ModuleStatus" Text="Ready to scan" 
                          Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                          Margin="0,4,0,0" />
            </StackPanel>

            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Right">
                    <TextBlock x:Name="ScoreText" Text="—" FontSize="36" 
                              FontWeight="Bold" HorizontalAlignment="Right" />
                    <TextBlock x:Name="GradeText" Text="" HorizontalAlignment="Right"
                              Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>

                <Button x:Name="RunButton" Content="▶ Scan" 
                        Style="{StaticResource AccentButtonStyle}"
                        Click="RunButton_Click"
                        VerticalAlignment="Center" />
            </StackPanel>
        </Grid>

        <!-- Progress -->
        <ProgressBar x:Name="ScanProgress" Grid.Row="1" IsIndeterminate="True" 
                    Visibility="Collapsed" Margin="32,0" />

        <!-- Findings List -->
        <ScrollViewer Grid.Row="2" Padding="32,8,32,32">
            <ItemsControl x:Name="FindingsList">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Spacing="8" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Page>
