<Page
    x:Class="WinSentinel.App.Views.AuditDetailPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{StaticResource AppBackground}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="32,24,32,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel>
                <TextBlock x:Name="ModuleTitle" Text="Audit Module" 
                          FontSize="24" FontWeight="Bold"
                          Foreground="{StaticResource TextPrimary}" />
                <TextBlock x:Name="ModuleStatus" Text="Ready to scan" 
                          Foreground="{StaticResource TextSecondary}" 
                          Margin="0,4,0,0" />
            </StackPanel>

            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,12,0">
                    <TextBlock x:Name="ScoreText" Text="—" FontSize="36" 
                              FontWeight="Bold" HorizontalAlignment="Right"
                              Foreground="{StaticResource TextPrimary}" />
                    <TextBlock x:Name="GradeText" Text="" HorizontalAlignment="Right"
                              Foreground="{StaticResource TextSecondary}" />
                </StackPanel>

                <Button x:Name="RunButton" Content="▶ Scan" 
                        Style="{StaticResource AccentButton}"
                        Click="RunButton_Click"
                        VerticalAlignment="Center" />
            </StackPanel>
        </Grid>

        <!-- Progress -->
        <ProgressBar x:Name="ScanProgress" Grid.Row="1" IsIndeterminate="True" 
                    Visibility="Collapsed" Margin="32,0"
                    Foreground="{StaticResource AccentBrush}" />

        <!-- Findings List -->
        <ScrollViewer Grid.Row="2" Padding="32,8,32,32" VerticalScrollBarVisibility="Auto">
            <ItemsControl x:Name="FindingsList" />
        </ScrollViewer>
    </Grid>
</Page>
